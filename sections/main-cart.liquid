<div class="container" style="padding: 6rem 0;">
  <div class="section-title">
    <h2>Your Collection (Cart)</h2>
  </div>

  {% if cart.item_count > 0 %}
    <form action="/cart" method="post" novalidate>
      <div class="cart-items">
        {% for item in cart.items %}
          <div class="cart-item" style="display: flex; gap: 2rem; border-bottom: 1px solid #eee; padding: 2rem 0; align-items: center;">
            <div style="width: 150px; background: #fdfcfb;">
               <img src="{{ item.image | image_url: width: 300 }}" alt="{{ item.title }}" style="width: 100%;">
            </div>
            <div style="flex: 1;">
              <h3 class="serif">{{ item.product.title }}</h3>
              <p style="color: #666;">{{ item.variant.title }}</p>
              <p>{{ item.price | money }}</p>
            </div>
            <div>
              <input type="number" name="updates[]" value="{{ item.quantity }}" min="0" style="width: 60px; padding: 0.5rem;">
            </div>
            <div style="font-weight: 700;">
              {{ item.final_line_price | money }}
            </div>
          </div>
        {% endfor %}
      </div>

      <div style="text-align: right; margin-top: 3rem;">
        <p style="font-size: 1.5rem;">Total: {{ cart.total_price | money }}</p>
        <button type="submit" name="update" class="button-primary" style="background: #666; margin-right: 1rem;">Update Cart</button>
        <button type="submit" name="checkout" class="button-primary">Secure Checkout</button>
      </div>
    </form>
  {% else %}
    <div style="text-align: center; padding: 4rem 0;">
      <p style="font-size: 1.2rem; color: #666; margin-bottom: 2rem;">Your treasure chest is currently empty.</p>
      <a href="/collections/all" class="button-primary">Start Exploring</a>
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Cart Main",
  "settings": []
}
{% endschema %}
